<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice 5</title>
</head>

<body>

    <h1>Exercice 5 (30 Objet_class_saisie_formulaire_V2.html)</h1>


    <form action="" method="post">
        <label for="nom">Nom : </label>
        <input id="nom" type="text" name="nom" placeholder="saisir un nom"> <br>

        <label for="prenom">Prénom :</label>
        <input id="prenom" type="text" name="prenom" placeholder="saisir un prénom"> <br>

        <label for="age">Age :</label>
        <input id="age" type="text" name="age" placeholder="saisir un age"> <br>

        <label for="adresse">Adresse :</label>
        <input id="adresse" type="text" name="adresse" placeholder="saisir une adresse"> <br>

        <button id="btn" type="submit">Ajouter</button>
    </form>
    <br>
    <br>
    <br>

    <h1>Liste des stagiaires</h1>
    <br>

    <div id="liste"></div>


    <!-- Début des scripts Javascript -->
    <script>
        class Stagiaire {

            //Les attributs privé
            #nom = "NC";
            #prenom = "NC";
            #age = "NC";
            #adresse = "NC";

            constructor(nom = "NC", prenom = "NC", age = "NC", adresse = "NC") {
                this.Nom = nom;
                this.Prenom = prenom;
                this.Age = age;
                this.Adresse = adresse;
            }

            // Getter et Setter : Les ACCESSEURS
            get Nom() {
                return this.#nom;
            }
            set Nom(value) {
                if (value.length < 4) {
                    alert("Erreur le nom est trop court");
                    throw new Error("Erreur le nom est trop court");

                }
                this.#nom = value;
            }

            get Prenom() {
                return this.#prenom;
            }
            set Prenom(value) {
                // alert(value);
                if (value.length < 4) {
                    alert("Erreur le prénom est trop court");
                    throw new Error("Erreur le prénom est trop court");
                }
                this.#prenom = value;
            }

            get Age() {
                return this.#age;
            }
            set Age(value) {
                // alert(value);
                if ((value <= 0) && (value >= 150)) {
                    alert("Erreur l'age est inférieur à 0 ou supérieur à 150");
                    throw new Error("Erreur l'age est inférieur à 0 ou supérieur à 150");
                }
                this.#age = value;
            }

            get Adresse() {
                return this.#adresse;
            }
            set Adresse(value) {
                this.#adresse = value;
            }


            //methode
            Afficher = function () {
                return ("Nom : " + this.Nom + " Prénom " + this.Prenom + " Age : " + this.Age + " ans " + " Adresse : " + this.Adresse);
            };


        }
    </script>
    <script>
        "use strict";
        alert("Créer votre profil");

        window.addEventListener('load', (event) => {

            let btn = document.getElementById("btn");

            btn.addEventListener("click",
                (e) => {
                    let nom = document.getElementById("nom").value;
                    let prenom = document.getElementById("prenom").value;
                    let age = document.getElementById("age").value;
                    let adresse = document.getElementById("adresse").value;

                    let registre = [];

                    let stagiaire = new Stagiaire(nom, prenom, age, adresse);


                    console.log(stagiaire);
                    stagiaire.Afficher();










                    //création du tableau
                    let tableau = document.getElementById("liste");
                    let tab = document.createElement("table");
                    tab.setAttribute('border', "2px");

                    //création du thead
                    let thead = document.createElement("thead");// un seul par tableau
                    let tr = document.createElement("tr");//que pour les lignes 

                    let th = document.createElement("th");//ligne 1 pour les titres en gras, colonne
                    th.innerText = "Nom";
                    th.innerText = "Prénom";
                    th.innerText = "Age";
                    th.innerText = "Adresse";
                    tr.appendChild(th);
                    thead.appendChild(tr);

                    tab.appendChild(thead);

                    //création du body
                    let body = document.createElement("tbody");//un seul par tableau qui contient :tr > td
                    tab.appendChild(body);


                    // let tr = document.createElement("tr");//que pour les lignes


                    let td = document.createElement("td");//pour les lignes suivantes dans un tr, colonne
                    td.innerText = nom;
                    td.innerText = prenom;
                    td.innerText = age;
                    td.innerText = adresse;
                    tr.appendChild(td);

                    body.appendChild(tr);
                    tab.appendChild(body);
                    tableau.appendChild(tab);



                    // registre.push(stagiaire);
                    e.preventDefault();
                    alert("Nouveau profil de stagiaire créé");

                }, false);

        });
    </script>

</body>

</html>